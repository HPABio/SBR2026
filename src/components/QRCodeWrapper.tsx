'use client';

import {
    QRCodeDownloadTrigger,
    QRCodeFrame,
    QRCodeOverlay,
    QRCodePattern,
    QRCode,
} from '@/components/ui/qr-code';

interface QRCodeWrapperProps {
    value: string;
    pixelSize?: number;
    errorCorrectionLevel?: 'L' | 'M' | 'Q' | 'H';
}

export default function QRCodeWrapper({
    value,
    pixelSize = 4,
    errorCorrectionLevel = 'M',
}: QRCodeWrapperProps) {
    return (
        <QRCode value={value} pixelSize={pixelSize} errorCorrectionLevel={errorCorrectionLevel}>
            <QRCodeFrame>
                <QRCodePattern />
                <QRCodeOverlay size="lg" className="bg-primary border-4 inset-shadow-2xs">
                    <svg
                        width="200"
                        height="200"
                        viewBox="0 0 200 200"
                        className="scale-150"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M114.84 103.76H133C132.893 107.547 132.227 111.04 131 114.24C129.773 117.44 128.2 120.293 126.28 122.8C124.307 125.36 121.907 127.6 119.08 129.52C116.307 131.387 113.4 132.773 110.36 133.68C108.76 134.16 107.133 134.533 105.48 134.8C103.827 135.067 102.12 135.2 100.36 135.2C93 135.2 86.36 132.933 80.44 128.4C77.72 126.32 75.32 123.733 73.24 120.64C71.16 117.493 69.6133 114.187 68.6 110.72C67.5333 107.147 67 103.307 67 99.2C67 95.0933 67.56 91.2533 68.68 87.68C69.8 84.1067 71.3733 80.88 73.4 78C75.32 75.12 77.6667 72.64 80.44 70.56C83.2133 68.48 86.3067 66.8533 89.72 65.68C93.1333 64.56 96.68 64 100.36 64C107.347 64 113.587 65.8667 119.08 69.6C124.627 73.3867 128.573 78.4533 130.92 84.8C131.507 86.4 131.96 88.08 132.28 89.84C132.653 91.6 132.867 93.44 132.92 95.36H114.84C114.733 93.8133 114.467 92.2933 114.04 90.8C113.613 89.3067 112.947 87.9467 112.04 86.72C110.28 84.32 107.96 82.6933 105.08 81.84C103.587 81.4133 102.04 81.2 100.44 81.2C98.68 81.2 97.0267 81.4667 95.48 82C93.9333 82.5333 92.4667 83.36 91.08 84.48C89.7467 85.5467 88.6 86.88 87.64 88.48C86.7333 90.08 86.0933 91.7333 85.72 93.44C85.5067 94.4 85.32 95.3867 85.16 96.4C85.0533 97.4133 85 98.48 85 99.6C85 101.68 85.2133 103.707 85.64 105.68C86.12 107.6 86.84 109.307 87.8 110.8C89.6667 113.893 92.1733 116 95.32 117.12C96.8667 117.707 98.5733 118 100.44 118C102.253 118 103.853 117.787 105.24 117.36C106.627 116.933 107.88 116.293 109 115.44C111.347 113.733 113.027 111.413 114.04 108.48C114.253 107.787 114.413 107.04 114.52 106.24C114.68 105.44 114.787 104.613 114.84 103.76Z"
                            fill="white"
                        />
                        <rect x="135" y="113" width="22" height="22" rx="10" fill="white" />
                    </svg>
                </QRCodeOverlay>
            </QRCodeFrame>
            <QRCodeDownloadTrigger />
        </QRCode>
    );
}









